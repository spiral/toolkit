!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("@spiral-toolkit/core")):"function"==typeof define&&define.amd?define("@spiral-toolkit/datagrid",["@spiral-toolkit/core"],e):"object"==typeof exports?exports["@spiral-toolkit/datagrid"]=e(require("@spiral-toolkit/core")):t.SFDataGrid=e(t["@spiral-toolkit/core"])}(window,(function(t){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r(r.s=3)}([function(e,r){e.exports=t},function(t,e,r){"use strict";const n=r(10),i=r(11),s=r(12);function o(t){if("string"!=typeof t||1!==t.length)throw new TypeError("arrayFormatSeparator must be single character string")}function a(t,e){return e.encode?e.strict?n(t):encodeURIComponent(t):t}function c(t,e){return e.decode?i(t):t}function l(t){const e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function u(t){const e=(t=l(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function p(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"==typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function f(t,e){o((e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e)).arrayFormatSeparator);const r=function(t){let e;switch(t.arrayFormat){case"index":return(t,r,n)=>{e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===n[t]&&(n[t]={}),n[t][e[1]]=r):n[t]=r};case"bracket":return(t,r,n)=>{e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==n[t]?n[t]=[].concat(n[t],r):n[t]=[r]:n[t]=r};case"comma":case"separator":return(e,r,n)=>{const i="string"==typeof r&&r.split("").indexOf(t.arrayFormatSeparator)>-1?r.split(t.arrayFormatSeparator).map(e=>c(e,t)):null===r?r:c(r,t);n[e]=i};default:return(t,e,r)=>{void 0!==r[t]?r[t]=[].concat(r[t],e):r[t]=e}}}(e),n=Object.create(null);if("string"!=typeof t)return n;if(!(t=t.trim().replace(/^[?#&]/,"")))return n;for(const i of t.split("&")){let[t,o]=s(e.decode?i.replace(/\+/g," "):i,"=");o=void 0===o?null:"comma"===e.arrayFormat?o:c(o,e),r(c(t,e),o,n)}for(const t of Object.keys(n)){const r=n[t];if("object"==typeof r&&null!==r)for(const t of Object.keys(r))r[t]=p(r[t],e);else n[t]=p(r,e)}return!1===e.sort?n:(!0===e.sort?Object.keys(n).sort():Object.keys(n).sort(e.sort)).reduce((t,e)=>{const r=n[e];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?t[e]=function t(e){return Array.isArray(e)?e.sort():"object"==typeof e?t(Object.keys(e)).sort((t,e)=>Number(t)-Number(e)).map(t=>e[t]):e}(r):t[e]=r,t},Object.create(null))}e.extract=u,e.parse=f,e.stringify=(t,e)=>{if(!t)return"";o((e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e)).arrayFormatSeparator);const r=r=>e.skipNull&&null==t[r]||e.skipEmptyString&&""===t[r],n=function(t){switch(t.arrayFormat){case"index":return e=>(r,n)=>{const i=r.length;return void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,[a(e,t),"[",i,"]"].join("")]:[...r,[a(e,t),"[",a(i,t),"]=",a(n,t)].join("")]};case"bracket":return e=>(r,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,[a(e,t),"[]"].join("")]:[...r,[a(e,t),"[]=",a(n,t)].join("")];case"comma":case"separator":return e=>(r,n)=>null==n||0===n.length?r:0===r.length?[[a(e,t),"=",a(n,t)].join("")]:[[r,a(n,t)].join(t.arrayFormatSeparator)];default:return e=>(r,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,a(e,t)]:[...r,[a(e,t),"=",a(n,t)].join("")]}}(e),i={};for(const e of Object.keys(t))r(e)||(i[e]=t[e]);const s=Object.keys(i);return!1!==e.sort&&s.sort(e.sort),s.map(r=>{const i=t[r];return void 0===i?"":null===i?a(r,e):Array.isArray(i)?i.reduce(n(r),[]).join("&"):a(r,e)+"="+a(i,e)}).filter(t=>t.length>0).join("&")},e.parseUrl=(t,e)=>({url:l(t).split("?")[0]||"",query:f(u(t),e)}),e.stringifyUrl=(t,r)=>{const n=l(t.url).split("?")[0]||"",i=e.extract(t.url),s=e.parse(i),o=function(t){let e="";const r=t.indexOf("#");return-1!==r&&(e=t.slice(r)),e}(t.url),a=Object.assign(s,t.query);let c=e.stringify(a,r);return c&&(c=`?${c}`),`${n}${c}${o}`}},function(t,e,r){"use strict";(function(e){var n=r(5);
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function i(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,s=Math.min(r,n);i<s;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}function s(t){return e.Buffer&&"function"==typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var o=r(6),a=Object.prototype.hasOwnProperty,c=Array.prototype.slice,l="foo"===function(){}.name;function u(t){return Object.prototype.toString.call(t)}function p(t){return!s(t)&&("function"==typeof e.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}var f=t.exports=b,h=/\s*function\s+([^\(\s]*)\s*/;function d(t){if(o.isFunction(t)){if(l)return t.name;var e=t.toString().match(h);return e&&e[1]}}function g(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function m(t){if(l||!o.isFunction(t))return o.inspect(t);var e=d(t);return"[Function"+(e?": "+e:"")+"]"}function y(t,e,r,n,i){throw new f.AssertionError({message:r,actual:t,expected:e,operator:n,stackStartFunction:i})}function b(t,e){t||y(t,!0,e,"==",f.ok)}function v(t,e,r,n){if(t===e)return!0;if(s(t)&&s(e))return 0===i(t,e);if(o.isDate(t)&&o.isDate(e))return t.getTime()===e.getTime();if(o.isRegExp(t)&&o.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(p(t)&&p(e)&&u(t)===u(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===i(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(s(t)!==s(e))return!1;var a=(n=n||{actual:[],expected:[]}).actual.indexOf(t);return-1!==a&&a===n.expected.indexOf(e)||(n.actual.push(t),n.expected.push(e),function(t,e,r,n){if(null==t||null==e)return!1;if(o.isPrimitive(t)||o.isPrimitive(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=O(t),s=O(e);if(i&&!s||!i&&s)return!1;if(i)return t=c.call(t),e=c.call(e),v(t,e,r);var a,l,u=w(t),p=w(e);if(u.length!==p.length)return!1;for(u.sort(),p.sort(),l=u.length-1;l>=0;l--)if(u[l]!==p[l])return!1;for(l=u.length-1;l>=0;l--)if(a=u[l],!v(t[a],e[a],r,n))return!1;return!0}(t,e,r,n))}return r?t===e:t==e}function O(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function E(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function j(t,e,r,n){var i;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),i=function(t){var e;try{t()}catch(t){e=t}return e}(e),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!i&&y(i,r,"Missing expected exception"+n);var s="string"==typeof n,a=!t&&i&&!r;if((!t&&o.isError(i)&&s&&E(i,r)||a)&&y(i,r,"Got unwanted exception"+n),t&&i&&r&&!E(i,r)||!t&&i)throw i}f.AssertionError=function(t){var e;this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=g(m((e=this).actual),128)+" "+e.operator+" "+g(m(e.expected),128),this.generatedMessage=!0);var r=t.stackStartFunction||y;if(Error.captureStackTrace)Error.captureStackTrace(this,r);else{var n=new Error;if(n.stack){var i=n.stack,s=d(r),o=i.indexOf("\n"+s);if(o>=0){var a=i.indexOf("\n",o+1);i=i.substring(a+1)}this.stack=i}}},o.inherits(f.AssertionError,Error),f.fail=y,f.ok=b,f.equal=function(t,e,r){t!=e&&y(t,e,r,"==",f.equal)},f.notEqual=function(t,e,r){t==e&&y(t,e,r,"!=",f.notEqual)},f.deepEqual=function(t,e,r){v(t,e,!1)||y(t,e,r,"deepEqual",f.deepEqual)},f.deepStrictEqual=function(t,e,r){v(t,e,!0)||y(t,e,r,"deepStrictEqual",f.deepStrictEqual)},f.notDeepEqual=function(t,e,r){v(t,e,!1)&&y(t,e,r,"notDeepEqual",f.notDeepEqual)},f.notDeepStrictEqual=function t(e,r,n){v(e,r,!0)&&y(e,r,n,"notDeepStrictEqual",t)},f.strictEqual=function(t,e,r){t!==e&&y(t,e,r,"===",f.strictEqual)},f.notStrictEqual=function(t,e,r){t===e&&y(t,e,r,"!==",f.notStrictEqual)},f.throws=function(t,e,r){j(!0,t,e,r)},f.doesNotThrow=function(t,e,r){j(!1,t,e,r)},f.ifError=function(t){if(t)throw t},f.strict=n((function t(e,r){e||y(e,!0,r,"==",t)}),f,{equal:f.strictEqual,deepEqual:f.deepStrictEqual,notEqual:f.notStrictEqual,notDeepEqual:f.notDeepStrictEqual}),f.strict.strict=f.strict;var w=Object.keys||function(t){var e=[];for(var r in t)a.call(t,r)&&e.push(r);return e}}).call(this,r(4))},function(t,e,r){t.exports=r(13)},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;function o(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,a,c=o(t),l=1;l<arguments.length;l++){for(var u in r=Object(arguments[l]))i.call(r,u)&&(c[u]=r[u]);if(n){a=n(r);for(var p=0;p<a.length;p++)s.call(r,a[p])&&(c[a[p]]=r[a[p]])}}return c}},function(t,e,r){(function(t){var n=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++)r[e[n]]=Object.getOwnPropertyDescriptor(t,e[n]);return r},i=/%[sdj%]/g;e.format=function(t){if(!y(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(a(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,s=n.length,o=String(t).replace(i,(function(t){if("%%"===t)return"%";if(r>=s)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}})),c=n[r];r<s;c=n[++r])g(c)||!O(c)?o+=" "+c:o+=" "+a(c);return o},e.deprecate=function(r,n){if(void 0!==t&&!0===t.noDeprecation)return r;if(void 0===t)return function(){return e.deprecate(r,n).apply(this,arguments)};var i=!1;return function(){if(!i){if(t.throwDeprecation)throw new Error(n);t.traceDeprecation?console.trace(n):console.error(n),i=!0}return r.apply(this,arguments)}};var s,o={};function a(t,r){var n={seen:[],stylize:l};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),d(r)?n.showHidden=r:r&&e._extend(n,r),b(n.showHidden)&&(n.showHidden=!1),b(n.depth)&&(n.depth=2),b(n.colors)&&(n.colors=!1),b(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=c),u(n,t,n.depth)}function c(t,e){var r=a.styles[e];return r?"["+a.colors[r][0]+"m"+t+"["+a.colors[r][1]+"m":t}function l(t,e){return t}function u(t,r,n){if(t.customInspect&&r&&w(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,t);return y(i)||(i=u(t,i,n)),i}var s=function(t,e){if(b(e))return t.stylize("undefined","undefined");if(y(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(m(e))return t.stylize(""+e,"number");if(d(e))return t.stylize(""+e,"boolean");if(g(e))return t.stylize("null","null")}(t,r);if(s)return s;var o=Object.keys(r),a=function(t){var e={};return t.forEach((function(t,r){e[t]=!0})),e}(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(r)),j(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return p(r);if(0===o.length){if(w(r)){var c=r.name?": "+r.name:"";return t.stylize("[Function"+c+"]","special")}if(v(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(E(r))return t.stylize(Date.prototype.toString.call(r),"date");if(j(r))return p(r)}var l,O="",S=!1,x=["{","}"];(h(r)&&(S=!0,x=["[","]"]),w(r))&&(O=" [Function"+(r.name?": "+r.name:"")+"]");return v(r)&&(O=" "+RegExp.prototype.toString.call(r)),E(r)&&(O=" "+Date.prototype.toUTCString.call(r)),j(r)&&(O=" "+p(r)),0!==o.length||S&&0!=r.length?n<0?v(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),l=S?function(t,e,r,n,i){for(var s=[],o=0,a=e.length;o<a;++o)T(e,String(o))?s.push(f(t,e,r,n,String(o),!0)):s.push("");return i.forEach((function(i){i.match(/^\d+$/)||s.push(f(t,e,r,n,i,!0))})),s}(t,r,n,a,o):o.map((function(e){return f(t,r,n,a,e,S)})),t.seen.pop(),function(t,e,r){if(t.reduce((function(t,e){return e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1];return r[0]+e+" "+t.join(", ")+" "+r[1]}(l,O,x)):x[0]+O+x[1]}function p(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,r,n,i,s){var o,a,c;if((c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),T(n,i)||(o="["+i+"]"),a||(t.seen.indexOf(c.value)<0?(a=g(r)?u(t,c.value,null):u(t,c.value,r-1)).indexOf("\n")>-1&&(a=s?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),b(o)){if(s&&i.match(/^\d+$/))return a;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+a}function h(t){return Array.isArray(t)}function d(t){return"boolean"==typeof t}function g(t){return null===t}function m(t){return"number"==typeof t}function y(t){return"string"==typeof t}function b(t){return void 0===t}function v(t){return O(t)&&"[object RegExp]"===S(t)}function O(t){return"object"==typeof t&&null!==t}function E(t){return O(t)&&"[object Date]"===S(t)}function j(t){return O(t)&&("[object Error]"===S(t)||t instanceof Error)}function w(t){return"function"==typeof t}function S(t){return Object.prototype.toString.call(t)}function x(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(r){if(b(s)&&(s=t.env.NODE_DEBUG||""),r=r.toUpperCase(),!o[r])if(new RegExp("\\b"+r+"\\b","i").test(s)){var n=t.pid;o[r]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",r,n,t)}}else o[r]=function(){};return o[r]},e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=h,e.isBoolean=d,e.isNull=g,e.isNullOrUndefined=function(t){return null==t},e.isNumber=m,e.isString=y,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=b,e.isRegExp=v,e.isObject=O,e.isDate=E,e.isError=j,e.isFunction=w,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=r(8);var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(){var t=new Date,e=[x(t.getHours()),x(t.getMinutes()),x(t.getSeconds())].join(":");return[t.getDate(),C[t.getMonth()],e].join(" ")}function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",k(),e.format.apply(e,arguments))},e.inherits=r(9),e._extend=function(t,e){if(!e||!O(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};var P="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function A(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(P&&t[P]){var e;if("function"!=typeof(e=t[P]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,P,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,r,n=new Promise((function(t,n){e=t,r=n})),i=[],s=0;s<arguments.length;s++)i.push(arguments[s]);i.push((function(t,n){t?r(t):e(n)}));try{t.apply(this,i)}catch(t){r(t)}return n}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),P&&Object.defineProperty(e,P,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,n(t))},e.promisify.custom=P,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function r(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var s=this,o=function(){return i.apply(s,arguments)};e.apply(this,r).then((function(e){t.nextTick(o,null,e)}),(function(e){t.nextTick(A,e,o)}))}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),Object.defineProperties(r,n(e)),r}}).call(this,r(7))},function(t,e){var r,n,i=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(t){r=s}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var c,l=[],u=!1,p=-1;function f(){u&&c&&(u=!1,c.length?l=c.concat(l):p=-1,l.length&&h())}function h(){if(!u){var t=a(f);u=!0;for(var e=l.length;e;){for(c=l,l=[];++p<e;)c&&c[p].run();p=-1,e=l.length}c=null,u=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];l.push(new d(t,e)),1!==l.length||u||a(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e,r){"use strict";t.exports=t=>encodeURIComponent(t).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`)},function(t,e,r){"use strict";var n=new RegExp("%[a-f0-9]{2}","gi"),i=new RegExp("(%[a-f0-9]{2})+","gi");function s(t,e){try{return decodeURIComponent(t.join(""))}catch(t){}if(1===t.length)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],s(r),s(n))}function o(t){try{return decodeURIComponent(t)}catch(i){for(var e=t.match(n),r=1;r<e.length;r++)e=(t=s(e,r).join("")).match(n);return t}}t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"ï¿½ï¿½","%FF%FE":"ï¿½ï¿½"},r=i.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch(t){var n=o(r[0]);n!==r[0]&&(e[r[0]]=n)}r=i.exec(t)}e["%C2"]="ï¿½";for(var s=Object.keys(e),a=0;a<s.length;a++){var c=s[a];t=t.replace(new RegExp(c,"g"),e[c])}return t}(t)}}},function(t,e,r){"use strict";t.exports=(t,e)=>{if("string"!=typeof t||"string"!=typeof e)throw new TypeError("Expected the arguments to be of type `string`");if(""===e)return[t];const r=t.indexOf(e);return-1===r?[t]:[t.slice(0,r),t.slice(r+e.length)]}},function(t,e,r){"use strict";r.r(e),r.d(e,"renders",(function(){return P}));var n,i,s=r(0),o=r.n(s);!function(t){t.ASC="asc",t.DESC="desc"}(n||(n={})),function(t){t.GET="GET",t.POST="POST",t.DELETE="DELETE",t.PUT="PUT",t.PATCH="PATCH"}(i||(i={}));const a=["page","limit","cid","lid"],c=["sortBy","sortDir"];var l=r(2);class u{constructor(t){this.parent=t,this.state={loading:!1,paginator:{page:1,limit:25},sortDir:n.ASC,data:[],formData:{}}}get isLoading(){return this.state.loading}startLoading(){this.state.loading=!0}stopLoading(){this.state.loading=!1}get data(){return this.state.data}get paginate(){return this.state.paginator}get urlData(){return this.state.urlData}set urlData(t){this.state.urlData=t}updatePaginator(t){this.state.paginator=Object.assign(Object.assign({},this.state.paginator),t)}set data(t){this.state.data=t}get hasError(){return!!this.state.error}get errorMessage(){return this.state.error}get sortBy(){return this.state.sortBy}get sortDir(){return this.state.sortDir}setSuccess(t,e){this.data=t,this.state.error=void 0,this.state.errors=void 0,this.updatePaginator(e)}setError(t,e={},r=!1){r&&(this.data=[]),this.state.error=t,this.state.errors=e}setSort(t,e){this.state.sortBy=t,this.state.sortDir=e}setFormData(t,e){this.state.formData[t]=e}getFilter(){const t=Object.keys(this.state.formData).reduce((t,e)=>Object.assign(Object.assign({},t),this.state.formData[e]),{});return Object.assign(Object.assign({},this.state.urlData),t)}}var p,f=r(1);!function(t){t.pages="pages",t.infinite="infinite"}(p||(p={}));class h extends o.a.core.BaseDOMConstructor{constructor(t,e,r){super(),this.optionsToGrab={id:{value:h.defaultOptions.id,domAttr:"id"},type:{value:h.defaultOptions.type,domAttr:"data-type"},fetchCount:{value:h.defaultOptions.fetchCount,domAttr:"data-fetch-count"},fetchCountOnce:{value:h.defaultOptions.fetchCountOnce,domAttr:"data-fetch-count-once"}},this.options=Object.assign({},h.defaultOptions),this.state={error:!1,limit:25},this.init(t,e,r),this.options=Object.assign(Object.assign({},h.defaultOptions),this.options),this.render()}unlock(){this.options.lockType&&"none"!==this.options.lockType&&(this.sf.removeInstance("lock",this.node)||console.warn("You try to remove 'lock' instance, but it is not available or not started"))}lock(){if(!this.options.lockType||"none"===this.options.lockType)return;this.sf.addInstance("lock",this.node,{type:this.options.lockType})||console.warn("You try to add 'lock' instance, but it is not available or already started")}setParams(t,e){this.options.serialize=e,this.state=Object.assign(Object.assign({},this.state),t),this.render()}hasPages(){return void 0!==this.state.page&&void 0!==this.state.limit}hasTotal(){return void 0!==this.state.count}hasLimitOptions(){return void 0!==this.options.limitOptions}generatePageList(){const t=this.state.page,e=this.hasTotal()?Math.ceil(this.state.count/this.state.limit):t,r=!this.hasTotal()||t<e,n=t>1,i=[Math.max(t-1,1),Math.min(t+1,e)],s=[1,Math.min(2,e)],o=[Math.max(e-1,1),e],a=[];let c=1;do{a.push({page:c,text:`${c}`,active:t===c}),c>=s[1]&&c+1<i[0]?(a.push({page:void 0,text:"...",active:!1}),c=i[0]):c>=i[1]&&c+1<o[0]?(a.push({page:void 0,text:"...",active:!1}),c=o[0]):c+=1}while(c<=e);return{pages:a,hasNext:r,hasPrevious:n}}setLimit(t){this.state.limit=t,!this.options.onPageChange||this.options.onPageChange(this.state),this.render()}setPage(t){this.state.page=t,!this.options.onPageChange||this.options.onPageChange(this.state),this.render()}render(){const t=document.createElement("div");t.className="col-12 col-lg-4",this.hasPages()&&(this.hasTotal()?t.innerHTML=`Showing ${(this.state.page-1)*this.state.limit+1} to ${this.state.page*this.state.limit} of ${this.state.count} entries`:t.innerHTML=`Showing ${(this.state.page-1)*this.state.limit+1} to ${this.state.page*this.state.limit} entries`);const e=document.createElement("div");if(e.className="col-4 col-md-2 col-lg-2",this.hasLimitOptions()){e.innerHTML='<div class="form-group row mb-0">\n                    <label class="col-form-label-sm col-auto">Show</label>\n                    <select name="limit" class="custom-select custom-select-sm col-6">\n                    </select>\n                  </div>';const t=e.querySelector("select");this.options.limitOptions.forEach(e=>{const r=document.createElement("option");r.value=`${e}`,r.innerHTML=`${e}`,e===this.state.limit&&r.setAttribute("checked","checked"),t.appendChild(r)}),t.value=`${this.state.limit}`,t.addEventListener("change",e=>{this.setLimit(+t.value)})}const r=document.createElement("div");if(r.className="col-8 col-md-10 col-lg-6",this.hasPages()){r.innerHTML='<ul class="pagination pagination-sm justify-content-end mb-0">';const t=r.querySelector("ul"),e=this.generatePageList(),n=(e,r,n,i)=>{const s=document.createElement("li");s.className=e,i&&s.addEventListener("click",i),s.innerHTML=`<a href="${n||"#"}" tabindex="0" class="page-link">${r}</a>`,t.appendChild(s)},i=t=>{if(this.options.serialize)return Object(f.stringifyUrl)({url:window.location.href,query:{[!0===this.options.serialize?"page":`${this.options.serialize}page`]:t.toString()}})},s=t=>e=>(this.setPage(t),e.preventDefault(),!1);n(e.hasPrevious?"page-item previous":"page-item previous disabled","Â«",e.hasPrevious?i(this.state.page-1):void 0,e.hasPrevious?s(this.state.page-1):void 0),e.pages.forEach(t=>{n(t.active?"page-item active":"page-item",t.text,t.page?i(t.page):void 0,t.page?s(t.page):void 0)}),n(e.hasNext?"page-item next":"page-item next disabled","Â»",e.hasNext?i(this.state.page+1):void 0,e.hasNext?s(this.state.page+1):void 0)}this.el?this.el.innerHTML="":(this.el=document.createElement("div"),this.node.appendChild(this.el));const n=this.el;n.className=this.options.className||"",n.appendChild(t),n.appendChild(e),n.appendChild(r),this.state.error?n.style.opacity="0":n.style.opacity=""}}h.spiralFrameworkName="datagrid-paginator",h.defaultOptions={id:"",lockType:"none",fetchCount:!0,serialize:!0,fetchCountOnce:!0,type:p.pages,className:"row no-gutters align-items-center m-3",limitOptions:[10,25,50,100]};var d=h;const g=(t,e)=>{const r=e.map(t=>"string"==typeof t?{field:t,direction:void 0}:t);return t.map(t=>{let e,i,s,o=!1;"string"==typeof t?(e=t,i=t,s=n.ASC):(e=t.id,i=t.title||t.id,s=t.sortDir||n.ASC,o=!!t.sortDir);const a=r.find(t=>t.field===e);return a?{id:e,title:i,sortable:!0,direction:a.direction||s}:{id:e,title:i,sortable:o,direction:s}})},m=(t,e)=>{Object.keys(e).forEach(r=>{t.setAttribute(r,e[r])})},y=(t,e,r)=>{const n=document.createElement("tbody");if(t.appendChild(n),r.hasError){const t=document.createElement("tr"),i=document.createElement("td");i.colSpan=e.columns.length,i.innerText=r.errorMessage||"Unknown Error",i.classList.add("sf-table__error"),t.appendChild(i),n.appendChild(t)}else if(0===r.data.length){const t=document.createElement("tr"),r=document.createElement("td");r.colSpan=e.columns.length,r.innerHTML="No Data",r.classList.add("sf-table__empty"),t.appendChild(r),n.appendChild(t)}return n},b=(t,e,r)=>{},v=(t,e,r)=>{const i=document.createElement("th"),s=[];return t.sortable&&(s.push("sf-table__sort"),i.addEventListener("click",()=>{r.parent.triggerSort(t.id)})),r.sortBy===t.id&&(r.sortDir===n.ASC?s.push("sf-table__sort_asc"):s.push("sf-table__sort_desc")),i.innerHTML=`<div class="${s.join(" ")}">${t.title}</div>`,i},O=(t,e,r)=>{const n=document.createElement("thead");t.appendChild(n);const i=document.createElement("tr");return n.appendChild(i),n},E=(t,e,r,n)=>{const i=document.createElement("td");return i.innerText=r.data[n][t.id],i},j=(t,e,r,n)=>{const i=document.createElement("tr");return t.appendChild(i),i},w=(t,e)=>{const r=document.createElement("table");return r.className=e.ui.tableClassName||"",t.appendChild(r),r};let S=1;class x{constructor(t,e){this.options=t,this.root=e,this.instance=S++,this.columnInfo=g(this.options.columns,this.options.sortable),this.create()}create(){this.wrapper=document.createElement("div"),this.wrapper.setAttribute("role","sf-datagrid-wrapper"),this.wrapper.setAttribute("class",this.options.ui.wrapperClassName||""),this.root.node.innerHTML="",this.root.node.appendChild(this.wrapper),this.options.paginator&&this.createDefaultPaginator();const t=this.options.tableWrapper||w;this.tableEl=t(this.wrapper,this.options)}createDefaultPaginator(){const t=`${Date.now()}${this.instance}`;this.root.options.captureForms.push(t),this.paginatorEl=document.createElement("div"),this.paginatorEl.className="sf-js-datagrid-paginator",this.paginatorEl.id=t,this.root.node.appendChild(this.paginatorEl)}applyAdditionalCellAttributes(t,e,r,n,i){const s={id:e.id,column:e,index:i,rowSelected:!1,state:n,item:n.data[i]};if(r.ui.cellClassName)if("function"==typeof r.ui.cellClassName)t.classList.add(r.ui.cellClassName(s));else{const n=r.ui.cellClassName[e.id];n&&("string"==typeof n?t.classList.add(n):t.classList.add(n(s)))}if(r.ui.cellAttributes)if("function"==typeof r.ui.cellAttributes)m(t,r.ui.cellAttributes(s));else{const n=r.ui.cellAttributes[e.id];n&&m(t,"function"==typeof n?n(s):n)}}applyAdditionalHeaderCellAttributes(t,e,r,n){const i={id:e.id,column:e,index:0,rowSelected:!1,state:n,item:null};if(r.ui.headerCellClassName)if("function"==typeof r.ui.headerCellClassName)t.classList.add(r.ui.headerCellClassName(i));else{const n=r.ui.headerCellClassName[e.id];n&&("string"==typeof n?t.classList.add(n):t.classList.add(n(i)))}if(r.ui.headerCellAttributes)if("function"==typeof r.ui.headerCellAttributes)m(t,r.ui.headerCellAttributes(i));else{const n=r.ui.headerCellAttributes[e.id];n&&m(t,"function"==typeof n?n(i):n)}}render(t){const e=this.options.headerWrapper||O;this.headerEl&&this.tableEl.removeChild(this.headerEl),this.headerEl=e(this.tableEl,this.options,t),this.headerEl&&(this.tableEl.appendChild(this.headerEl),this.columnInfo.length&&this.columnInfo.forEach((e,r)=>{const n=((this.options.headerList||{})[e.id]||v)(e,this.options,t);this.applyAdditionalHeaderCellAttributes(n,e,this.options,t),this.headerEl.appendChild(n)})),this.bodyEl&&this.tableEl.removeChild(this.bodyEl);const r=this.options.bodyWrapper||y;if(this.bodyEl=r(this.tableEl,this.options,t),this.bodyEl){this.tableEl.appendChild(this.bodyEl);const e=this.options.rowWrapper||j;t.data.forEach((r,n)=>{const i=e(this.bodyEl,this.options,t,n);this.columnInfo.forEach(e=>{const r=((this.options.cells||{})[e.id]||E)(e,this.options,t,n);this.applyAdditionalCellAttributes(r,e,this.options,t,n),i.appendChild(r)})})}this.footerEl&&this.tableEl.removeChild(this.footerEl);const n=this.options.footerWrapper||b;this.footerEl=n(this.tableEl,this.options,t),this.footerEl&&this.tableEl.appendChild(this.footerEl)}}var C=function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{c(n.next(t))}catch(t){s(t)}}function a(t){try{c(n.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}c((n=n.apply(t,e||[])).next())}))};class k extends o.a.core.BaseDOMConstructor{constructor(t,e,r){super(),this.optionsToGrab={id:{value:k.defaultOptions.id,domAttr:"id"},url:{value:k.defaultOptions.url,domAttr:"data-url"}},this.options=Object.assign({},k.defaultOptions),this.grids=[],this.state=new u(this),this.capturedForms={},this.capturedPaginators=[],this.defaults={page:1,limit:25},this.init(t,e,r),this.options=Object.assign(Object.assign({},k.defaultOptions),this.options);const i=e.querySelector('script[role="sf-options"]');if(i)try{const t=Function('"use strict";return '+i.innerHTML.trim())()();this.options=Object.assign(Object.assign({},this.options),t)}catch(t){throw console.error("Could not parse options inside script, ensure script inside is an anonymous function returning IDataGridOptions object"),t}l.notEqual(this.options.id,"","id should be not empty"),l.notEqual(this.options.url,"","url should be not empty"),this.columnInfo=g(this.options.columns,this.options.sortable),this.options.sort&&("string"==typeof this.options.sort?(this.defaults.sortBy=this.options.sort,this.defaults.sortDir=n.ASC):(this.defaults.sortBy=this.options.sort.field,this.defaults.sortDir=this.options.sort.direction||n.ASC),this.state.setSort(this.defaults.sortBy,this.defaults.sortDir)),this.createRenderers(),this.initFromUrl(),this.captureForms(),this.request()}registerFormInstance(t){if(t.options&&t.options.id&&this.options.captureForms.indexOf(t.options.url)>=0){const e=t.options.id,r=t.enumerateFieldNames();this.capturedForms[e]={instance:t,fields:r};const n=this.state.urlData?Object.keys(this.state.urlData).filter(t=>r.indexOf(t)>=0).reduce((t,e)=>Object.assign(Object.assign({},t),{[e]:this.state.urlData[e]}),{}):void 0;n&&t.setFieldValues(n),t.options.jsonOnly=!0,t.options.beforeSubmitCallback=t=>(this.resetPaginator(),this.state.setFormData(e,t.data),this.capturedForms[e].fields=[...new Set([...Object.keys(t.data),...this.capturedForms[e].fields])],this.request(),!1)}}registerPaginatorInstance(t){t.options&&t.options.id&&this.options.captureForms.indexOf(t.options.id)>=0&&(this.capturedPaginators.push(t),t.options.onPageChange=t=>(this.state.updatePaginator(t),this.request(),!1))}captureForms(){(this.sf.getInstances("form")||[]).forEach(t=>{this.registerFormInstance(t.instance)}),(this.sf.getInstances(d.spiralFrameworkName)||[]).forEach(t=>{this.registerPaginatorInstance(t.instance)}),this.sf.instancesController.events.on("onAddInstance",({instance:t,type:e})=>{"form"===e&&this.registerFormInstance(t),e===d.spiralFrameworkName&&this.registerPaginatorInstance(t)})}triggerSort(t){if(this.state.sortBy===t)this.state.sortDir===n.ASC?this.state.setSort(t,n.DESC):this.state.setSort(t,n.ASC);else{const e=this.columnInfo.find(e=>e.id===t);e?this.state.setSort(e.id,e.direction):console.warn(`Trying to sort by unsortable field ${t}`)}this.resetPaginator(),this.request()}resetPaginator(){this.state.updatePaginator({page:1}),this.capturedPaginators.forEach(t=>{t.setParams&&t.setParams(this.state.paginate,this.options.serialize)})}formRequest(){return{fetchCount:!0,filter:this.state.getFilter(),paginate:this.state.paginate,sort:this.state.sortBy?{[this.state.sortBy]:this.state.sortDir}:{}}}unlock(){this.sf.removeInstance("lock",this.node)||console.warn("You try to remove 'lock' instance, but it is not available or not started"),Object.keys(this.capturedForms).forEach(t=>{const e=this.capturedForms[t].instance;e.unlock&&e.unlock()}),this.capturedPaginators.forEach(t=>{t.unlock&&t.unlock()})}lock(){if(!this.options.lockType||"none"===this.options.lockType)return;this.sf.addInstance("lock",this.node,{type:this.options.lockType})?(Object.keys(this.capturedForms).forEach(t=>{const e=this.capturedForms[t].instance;e.lock&&e.lock()}),this.capturedPaginators.forEach(t=>{t.lock&&t.lock()})):console.warn("You try to add 'lock' instance, but it is not available or already started")}handleSuccess({data:t}){this.state.setSuccess(t.data,t.pagination),this.render(),this.capturedPaginators.forEach(t=>{t.setParams&&t.setParams(Object.assign(Object.assign({},this.state.paginate),{error:!1}),this.options.serialize)})}beforeSubmit(){Object.keys(this.capturedForms).forEach(t=>{const e=this.capturedForms[t].instance;e.removeMessages&&e.removeMessages()})}handleError({data:t,status:e,statusText:r}){this.state.setError(t.error,t.errors,this.options.resetOnError),Object.keys(this.capturedForms).forEach(n=>{const i=this.capturedForms[n].instance;i.processAnswer&&i.processAnswer({data:t,status:e,statusText:r},!1)}),this.capturedPaginators.forEach(t=>{t.setParams&&t.setParams({error:!0},this.options.serialize)}),this.render()}request(){return C(this,void 0,void 0,(function*(){if(this.state.isLoading)return void console.warn("Cant start new request");this.state.startLoading(),this.beforeSubmit(),this.lock(),this.updateUrl();const t=this.formRequest(),e=this.sf.ajax.send({url:this.options.url,method:this.options.method,headers:this.options.headers,data:t});try{const t=yield e;this.handleSuccess(t)}catch(t){t.isSFAjaxError?this.handleError(t):this.handleError({data:{error:t.toString(),originalError:t},status:1e3,statusText:t.toString()})}finally{this.unlock(),this.state.stopLoading()}}))}createRenderers(){l.deepEqual(this.grids,[],"Grids are already initialized"),(Array.isArray(this.options.renderers)?this.options.renderers:[this.options.renderers]).forEach(t=>{this.grids.push(new x(Object.assign(Object.assign({},t),{columns:t.columns&&t.columns.length?t.columns:this.options.columns,sortable:t.sortable&&t.sortable.length?t.sortable:this.options.sortable,paginator:void 0===t.paginator?this.options.paginator:t.paginator}),this))})}render(){this.grids.forEach(t=>{t.render(this.state)})}serialize(){const t=this.state.getFilter(),e=Object.keys(this.state.paginate).filter(t=>a.indexOf(t)>=0).reduce((t,e)=>Object.assign(Object.assign({},t),{[e]:this.state.paginate[e]}),{}),r=this.state.sortBy?{sortBy:this.state.sortBy,sortDir:this.state.sortDir}:{};return Object.assign(Object.assign(Object.assign({},t),e),r)}deserialize(t){const{page:e,limit:r,cid:i,lid:s}=t;this.state.updatePaginator({page:+e,limit:+r,cid:i,lid:s});const{sortBy:o,sortDir:l}=t;o&&this.state.setSort(o,l||n.ASC),[...a,...c].forEach(e=>delete t[e]),this.state.urlData=t}initFromUrl(){if(this.options.serialize&&window.location.search){const t=this.getObjectFromUrl(this.defaults,"string"==typeof this.options.serialize?this.options.serialize:"");Object.keys(t).length&&this.deserialize(t)}}updateUrl(){if(this.options.serialize){const t=this.serialize();this.putObjectToUrl(t,this.defaults,"string"==typeof this.options.serialize?this.options.serialize:"")}}getObjectFromUrl(t,e=""){const r=Object(f.parse)(window.location.search,{parseNumbers:!0,parseBooleans:!0});return Object.keys(r).reduce((n,i)=>e&&0!==i.indexOf(e)?n:Object.assign(Object.assign({},n),{[i.substr(e.length)]:void 0!==r[i]?r[i]:t[i.substr(e.length)]}),{})}putObjectToUrl(t,e,r=""){if(!window.history)return void console.warn("Cant update URL without reload, skipping");const n=Object.keys(t).reduce((n,i)=>t[i]&&t[i]!=e[i]?Object.assign(Object.assign({},n),{[`${r}${i}`]:t[i]}):n,{});let i=Object(f.parse)(window.location.search,{parseNumbers:!0,parseBooleans:!0});"string"==typeof this.options.serialize?Object.keys(t=>{0===t.indexOf(this.options.serialize.toString())&&delete i[t]}):i={};const s=Object.assign(Object.assign({},i),n);history.pushState({},document.title,Object(f.stringifyUrl)({url:window.location.protocol+"//"+window.location.host+window.location.pathname,query:s}))}}k.spiralFrameworkName="datagrid",k.defaultOptions={id:"",lockType:"default",resetOnError:!1,captureForms:[],columns:[],headers:{},method:i.POST,sortable:[],url:"",serialize:!0,paginator:!0,ui:{cellAttributes:{},rowAttributes:{},rowClassName:"",cellClassName:{},tableClassName:"table table-stripped",wrapperClassName:"table-responsive"},renderers:{columns:[],sortable:[],ui:{wrapperClassName:"table-responsive",tableClassName:"table table-striped",cellClassName:{},rowClassName:"",cellAttributes:t=>({}),rowAttributes:t=>({})}}};var T=k;const P={simpleCellFormatter:(t=(t=>t?t.toString():""),e="td")=>(r,n,i,s)=>{const o=document.createElement(e);return o.innerHTML=t(i.data[s][r.id],i.data[s]),o}};window.SFDatagridTools=P,o.a.registerInstanceType(T,"sf-js-datagrid"),o.a.registerInstanceType(d,"sf-js-datagrid-paginator");e.default=T}])}));
//# sourceMappingURL=datagrid.js.map